<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Oswald:wght@300;400;700&display=swap');

        body { 
            margin: 0; padding: 0; overflow: hidden; 
            background-color: #050505; color: white;
            font-family: 'Oswald', sans-serif; text-transform: uppercase;
        }

        /* Фоновое изображение (Локация) */
        .background-wrap {
            position: fixed; width: 100%; height: 100%;
            background: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('map_bg.jpg'); 
            background-size: cover; 
            background-position: center;
            z-index: -1;
            filter: brightness(0.4) contrast(1.1);
            transition: background-image 2s ease-in-out;
        }

        /* Виньетка и шум */
        .overlay-fx {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle, transparent 20%, rgba(0,0,0,0.9) 100%);
            pointer-events: none; z-index: 5;
        }
        
        .overlay-fx::after {
            content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: url('https://www.transparenttextures.com/patterns/carbon-fibre.png');
            opacity: 0.1;
        }

        /* Верхний заголовок */
        .header-title {
            position: absolute; top: 50px; width: 100%;
            text-align: center; font-size: 32px; letter-spacing: 6px;
            font-weight: 700; z-index: 10;
            text-shadow: 0 0 15px rgba(0,0,0,0.5);
        }

        /* Контейнер информации о карте (справа) */
        .map-info {
            position: absolute;
            top: 20%; right: 8%;
            width: 380px; z-index: 10;
        }

        .map-preview {
            width: 100%; 
            border: 1px solid rgba(255,255,255,0.05);
            box-shadow: 0 10px 30px rgba(0,0,0,0.8);
        }

        .map-name { font-size: 28px; margin-top: 25px; color: #fff; letter-spacing: 2px; }
        
        .map-description {
            font-size: 14px; text-transform: none; color: #999;
            line-height: 1.5; margin-top: 12px; font-weight: 300;
            border-left: 2px solid #e5a824; padding-left: 15px;
        }

        /* Нижняя часть: Загрузка */
        .loading-section {
            position: absolute; bottom: 12%; width: 100%;
            display: flex; flex-direction: column; align-items: center; z-index: 15;
        }

        .loading-status-top { color: #666; font-size: 13px; letter-spacing: 2px; margin-bottom: 8px; }

        .progress-container { 
            width: 350px; height: 3px; background: rgba(255,255,255,0.05); 
            position: relative; overflow: hidden;
        }
        .progress-bar { 
            width: 35%; height: 100%; background: #e5a824; 
            box-shadow: 0 0 15px rgba(229, 168, 36, 0.6); 
        }

        .loading-label { color: #e5a824; font-size: 14px; margin-top: 15px; opacity: 0.8; }
        .timer { font-size: 32px; color: #fff; font-weight: 400; margin-top: 5px; }

        .back-btn { 
            margin-top: 40px; font-size: 24px; letter-spacing: 8px; 
            color: #444; cursor: pointer; transition: color 0.3s;
        }
        .back-btn:hover { color: #fff; }

        /* Стартовый экран */
        #click-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 100; display: flex; justify-content: center; align-items: center;
            cursor: pointer;
        }
        #click-overlay span { color: #e5a824; letter-spacing: 5px; font-size: 20px; }
    </style>
</head>
<body onclick="startSequence()">

    <div id="click-overlay"><span>НАЖМИТЕ ДЛЯ ПОДКЛЮЧЕНИЯ К СЕРВЕРУ</span></div>
    
    <audio id="ambient" loop><source src="music.mp3" type="audio/mpeg"></audio>

    <div class="background-wrap" id="bg"></div>
    <div class="overlay-fx"></div>

    <div class="header-title">ВЫСАДКА НА МЕСТО ДИСЛОКАЦИИ</div>

    <div class="map-info">
        <img src="map_preview.jpg" class="map-preview">
        <div class="map-name" id="map-title">Завод</div>
        <div class="map-description" id="hint-text">
            Смена данных...
        </div>
    </div>

    <div class="loading-section">
        <div class="loading-status-top" id="loading-step">ЗАГРУЗКА КАРТЫ... (35%)</div>
        <div class="progress-container"><div class="progress-bar"></div></div>
        
        <div class="loading-label">ЗАГРУЗКА</div>
        <div id="timer" class="timer">00:00</div>
        
        <div class="back-btn">НАЗАД</div>
    </div>

    <script>
        function startSequence() {
            document.getElementById('click-overlay').style.display = 'none';
            document.getElementById('ambient').play();
        }

        // --- ТВОИ ПОДСКАЗКИ ---
        const hints = [
            "Химический комбинат №16. Место ожесточенных столкновений между USEC и BEAR.",
            "Будьте предельно внимательны в темноте. Фонарь может выдать вашу позицию.",
            "Слушайте каждый шорох. Завод не прощает спешки."
        ];

        let hIdx = 0;
        const hintEl = document.getElementById('hint-text');
        
        function rotateHints() {
            hintEl.style.opacity = 0;
            setTimeout(() => {
                hIdx = (hIdx + 1) % hints.length;
                hintEl.innerText = hints[hIdx];
                hintEl.style.opacity = 1;
            }, 500);
        }
        setInterval(rotateHints, 10000);
        rotateHints(); // Первый запуск

        // Таймер
        const start = Date.now();
        setInterval(() => {
            const now = Math.floor((Date.now() - start) / 1000);
            const m = Math.floor(now / 60).toString().padStart(2, '0');
            const s = (now % 60).toString().padStart(2, '0');
            document.getElementById('timer').innerText = `${m}:${s}`;
        }, 1000);
    </script>
</body>
</html>
